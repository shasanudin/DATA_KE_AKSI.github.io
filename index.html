<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Beranda | TKSK & Puskesos Kecamatan Sumber</title>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  
  <style>
    :root {
      --primary: #007bff;
      --secondary: #0056b3;
      --dark: #212529;
    }

    body { font-family: 'Inter', sans-serif; background-color: #f8f9fa; color: #333; }
    
    /* Header & Navbar */
    header { border-bottom: 1px solid #eee; }
    
    /* Hero Section */
    .hero { 
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); 
      color: white; 
      padding: 100px 0; 
      min-height: 400px;
    }

    /* Animasi Typing */
    #animatedTitle {
      min-height: 1.2em; /* Menjaga layout tidak melompat saat teks muncul */
      display: inline-block;
    }
    .cursor {
      display: inline-block;
      width: 10px;
      background-color: white;
      margin-left: 5px;
      animation: blink 0.7s infinite;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* Stats Cards */
    .card-stats { 
      border: none; 
      border-radius: 15px; 
      transition: all 0.3s ease; 
      box-shadow: 0 5px 15px rgba(0,0,0,0.05); 
    }
    .card-stats:hover { transform: translateY(-10px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    
    .section-title { font-weight: 700; margin-bottom: 30px; position: relative; }
    .section-title::after { 
      content: ''; display: block; width: 60px; height: 5px; 
      background: var(--primary); margin-top: 10px; border-radius: 2px;
    }

    /* Contact Sidebar Widget */
    .icon-circle { 
      width: 45px; height: 45px; background: #eef4ff; 
      border-radius: 10px; display: flex; align-items: center; 
      justify-content: center; color: var(--primary); font-size: 18px;
    }
    .contact-widget { border-radius: 15px; border: none; overflow: hidden; }

    footer { background: var(--dark); }
  </style>
</head>
<body>

<header class="container-fluid py-3 bg-white">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6 text-center text-md-left">
        <img src="assets/img/logo/logo-tksk.png" alt="TKSK" height="50">
        <img src="assets/img/logo/logo-puskesos.png" alt="Puskesos" height="50" class="ml-2 border-left pl-2">
      </div>
      <div class="col-md-6 text-right d-none d-md-block">
        <span class="text-muted small">Update Terakhir: <strong id="updateDataHeader">Januari 2026</strong></span>
      </div>
    </div>
  </div>
</header>

<div id="navbar"></div>

<section class="hero d-flex align-items-center text-center">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10"> 
        <h1 class="display-3 font-weight-bold mb-3">
          <span id="animatedTitle"></span><span class="cursor">|</span>
        </h1>
        <p class="lead opacity-75 mx-auto w-75 mb-4">Satu Data Kesejahteraan Sosial untuk Transformasi Pelayanan Terpadu di Kecamatan Sumber.</p>
        
        <div class="mt-4">
          <a href="data.html" class="btn btn-light btn-lg px-5 font-weight-bold shadow-sm mr-2">Lihat Data</a>
          <a href="prioritas.html" class="btn btn-outline-light btn-lg px-5 shadow-sm">Prioritas Intervensi</a>
        </div>
      </div>
    </div>
  </div>
</section>

<main class="container py-5">
  <h2 class="section-title">Dashboard Kecamatan</h2>
  
  <div class="row mb-5">
    <div class="col-md-3 col-sm-6 mb-4">
      <div class="card card-stats h-100 py-3">
        <div class="card-body text-center">
          <h2 id="totalKK" class="font-weight-bold text-primary">0</h2>
          <p class="text-muted small text-uppercase mb-0">Total Keluarga (KK)</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-4">
      <div class="card card-stats h-100 py-3">
        <div class="card-body text-center">
          <h2 id="desil12" class="font-weight-bold text-danger">0</h2>
          <p class="text-muted small text-uppercase mb-0">Extreme Poverty (D1-2)</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-4">
      <div class="card card-stats h-100 py-3">
        <div class="card-body text-center">
          <h2 id="desil34" class="font-weight-bold text-warning">0</h2>
          <p class="text-muted small text-uppercase mb-0">Rentan Sosial (D3-4)</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-4">
      <div class="card card-stats h-100 py-3">
        <div class="card-body text-center">
          <h2 id="desil510" class="font-weight-bold text-success">0</h2>
          <p class="text-muted small text-uppercase mb-0">Sejahtera (D5-10)</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-8 mb-4">
      <div class="card shadow-sm border-0 p-4" style="border-radius: 15px;">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="font-weight-bold mb-0">Distribusi Kesejahteraan Wilayah</h5>
          <select id="wilayahSelect" class="form-control form-control-sm w-auto border-primary"></select>
        </div>
        <div style="position: relative; height: 350px;"> 
          <canvas id="desilChart"></canvas>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-4">
      <div class="card contact-widget shadow-sm mb-4">
        <div class="card-header bg-dark text-white font-weight-bold border-0">
          <i class="fas fa-headset mr-2"></i>Layanan Cepat
        </div>
        <div class="card-body">
          <div class="d-flex align-items-center mb-4">
            <div class="icon-circle mr-3"><i class="fab fa-whatsapp"></i></div>
            <div>
              <small class="text-muted d-block">WhatsApp Center</small>
              <a href="https://wa.me/6288214940995" target="_blank" class="text-dark font-weight-bold">0882-1494-0995</a>
            </div>
          </div>
          <div class="d-flex align-items-center mb-4">
            <div class="icon-circle mr-3"><i class="far fa-envelope"></i></div>
            <div>
              <small class="text-muted d-block">Email Layanan</small>
              <a href="mailto:tksksumber@gmail.com" class="text-dark font-weight-bold">tksksumber@gmail.com</a>
            </div>
          </div>
          <a href="kontak.html" class="btn btn-primary btn-block shadow-sm">Kirim Laporan / Pesan</a>
        </div>
      </div>

      <div class="list-group shadow-sm border-0" style="border-radius: 15px; overflow: hidden;">
        <div class="list-group-item bg-primary text-white font-weight-bold border-0">Akses Informasi</div>
        <a href="alur.html" class="list-group-item list-group-item-action"><i class="fas fa-book-open mr-2 text-primary"></i>Alur DTSEN</a>
        <a href="aplikasi.html" class="list-group-item list-group-item-action"><i class="fas fa-laptop-code mr-2 text-primary"></i>SIMPELPAS</a>
        <a href="verifikasi.html" class="list-group-item list-group-item-action"><i class="fas fa-qrcode mr-2 text-primary"></i>Cek QR Code Dokumen</a>
      </div>
    </div>
  </div>
</main>

<footer class="text-white py-5 mt-5">
  <div class="container text-center">
    <div class="mb-4">
        <img src="assets/img/logo/logo-tksk.png" alt="TKSK" height="40" class="mx-2 grayscale brightness-200">
        <img src="assets/img/logo/logo-puskesos.png" alt="Puskesos" height="40" class="mx-2 grayscale brightness-200">
    </div>
    <p class="mb-1 font-weight-bold">Â© 2026 TKSK Sumber & Forum Puskesos Kecamatan Sumber</p>
    <p class="small text-muted">Kabupaten Cirebon, Jawa Barat. Semua hak data dilindungi oleh regulasi DTSEN.</p>
  </div>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // 1. Load Navbar
  fetch('navbar.html')
    .then(r => r.text())
    .then(html => { document.getElementById('navbar').innerHTML = html; })
    .catch(err => console.warn("Navbar tidak ditemukan"));

  // 2. Animasi Typing Judul
  const titleText = "Dari Data ke Aksi";
  const speed = 150;
  let charIndex = 0;

  function typeEffect() {
    if (charIndex < titleText.length) {
      document.getElementById("animatedTitle").textContent += titleText.charAt(charIndex);
      charIndex++;
      setTimeout(typeEffect, speed);
    }
  }

  // Jalankan animasi saat halaman siap
  document.addEventListener("DOMContentLoaded", typeEffect);
</script>

<script src="js/tabel_wilayah.js"></script>

</body>
</html>
